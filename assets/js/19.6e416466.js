(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{419:function(n,t,a){"use strict";a.r(t);var s=a(56),i=Object(s.a)({},(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"python是有名的胶水语言-今天打算试下它的胶水特性。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python是有名的胶水语言-今天打算试下它的胶水特性。"}},[n._v("#")]),n._v(" python是有名的胶水语言,今天打算试下它的胶水特性。")]),n._v(" "),a("p",[n._v("（环境Ubuntu16.04,win10因为gcc的原因不知道为什么一直报错）")]),n._v(" "),a("hr"),n._v(" "),a("p",[n._v("1.首先先说Java的部分，在Python中启动JVM就要调用jpype，直接pip安装就好了。")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("pip install jpype1\n")])])]),a("p",[n._v("然后import jpype，就可以在Python里面写Java代码。")]),n._v(" "),a("hr"),n._v(" "),a("p",[n._v("2.c++部分")]),n._v(" "),a("p",[n._v("c++部分还是要依靠g++，利用gcc原本的功能把cpp文件编译成为so文件，然后在Python中直接调用。")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v('//c++代码\n#include <iostream>\nusing namespace std;\n \nclass TestLib\n{\n    public:\n        int display();\n        void display(int a);\n\t\tvoid add(int a);\n};\nint TestLib::display() {\n    cout<<"First display"<<endl;\n\treturn 1;\n}\n \nvoid TestLib::display(int a) {\n    cout<<"Second display:"<<a<<endl;\n}\n\nvoid TestLib::add(int a) {\n\t\tcout<<a<<endl;\t\n\t}\n\nextern "C" {\n    TestLib obj;\n    int display() {\n        obj.display();\n      }\n    void display_int() {\n        obj.display(2);\n      }\n\n\tvoid add_re() {\n\t\tobj.add(1);\t\n\t}\n\n}\n')])])]),a("p",[n._v("编译命令：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v("g++ -o s.so -shared -fPIC s.cpp\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('from jpype import *\nstartJVM(getDefaultJVMPath(), "-ea")\na = java.lang.System.out.println("Hello World")\nshutdownJVM()\n\nimport ctypes\nso = ctypes.cdll.LoadLibrary\nlib = so("./s.so")\nprint(\'display()\')\nb = lib.display()\nprint(\'display(100)\')\nlib.display_int(100)\nlib.add_re()\nc = lib.add_re()\nprint(b)\n')])])])])}),[],!1,null,null,null);t.default=i.exports}}]);